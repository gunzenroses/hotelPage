mixin donut-chart(cData={})
  - var {excellent=0, good=0, satisfied=0, dissapointed=0} = cData
  - var totalData = parseFloat(excellent) + parseFloat(good) + parseFloat(satisfied) + parseFloat(dissapointed)
  - var dissData = dissapointed / totalData * 100;
  - var satisData = satisfied / totalData * 100;
  - var goodData = good / totalData * 100;
  - var excelData = excellent / totalData * 100;
  - var donutData = {dissData, satisData, goodData, excelData} 
  - var donutMarks = {excellent: "Великолепно",good: "Хорошо",satisfied: "Удовлетворительно",disappointed: "Разочарован"};
  - var counter = 1;
  - var dashOffsetValue = parseFloat(25 - 0.5);
  - var prevArraySumm = 0;

  figure.donut-chart
    .donut-chart__content
      svg.donut-chart__img(width="100%" height="100%" viewbox="0 0 33 33" aria-labelledby="impression-title" role="img")
        defs
          lineargradient#gradient_dissData
            stop(stop-color="#909090" offset="0%")
            stop(stop-color="#3D4975" offset="100%")
          lineargradient#gradient_satisData(x1="0" y1="1" x2="0" y2="0")
            stop(stop-color="#BC9CFF" offset="0%")
            stop(stop-color="#8BA4F9" offset="100%")
          lineargradient#gradient_goodData
            stop(stop-color="#6FCF97" offset="0%")
            stop(stop-color="#66D2EA" offset="100%")
          lineargradient#gradient_excelData(x1="0" y1="1" x2="0" y2="0")
            stop(stop-color="#FFBA9C" offset="0%")
            stop(stop-color="#FFE39C" offset="100%")
        title#impression-title Впечатлeния от номера

        // img starts
        circle.donut-chart__ring(cx="50%" cy="50%" r="15.91549430918954" fill="transparent" stroke="#fff" stroke-width="1" role="presentation")
        each percent, mark in donutData
          if (percent>2)
            - var dashValue = parseInt(percent - 1);
            - var dashLeft = 100 - dashValue;
            circle.donut-chart__segment(cx="50%" cy="50%" r="15.91549430918954" fill="transparent" stroke=`url(#gradient_${mark})` stroke-width="1" stroke-dasharray=`${dashValue} ${dashLeft}` stroke-dashoffset=`${dashOffsetValue}` aria-labelledby=`donut-chart-segment-${counter}-title`)
            title(id=`donut-chart-segment-${counter++}-title` data-some= `${prevArraySumm}`)!= mark
            - dashOffsetValue -= percent;
        // img ends

      .donut-chart__text
        p.donut-chart__number!= totalData
        p.donut-chart__label голосов
    figcaption.donut-chart__caption
      ul.donut-chart__key-list(aria-hidden="true" role="presentation")
        each val, key in donutMarks
          li.donut-chart__key-item
            span.donut-chart__marker(class= key)
            != val